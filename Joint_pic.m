%?????????????????????????????????
%???????????????????????????????????????
%?????????????????

clear;
%?????
row=3;%????????
column=3;%????????

%???
h1=10;%????

%???
c1=0;%?????
c2=0;%?????
c3=0;%?????
c4=0;%?????

cd('C:\Users\XIAOCHEN-FU\Pictures\CT_img\ct')
%???????
pictures=dir('*.png');%????????????
num1=row*column;
num2=size(pictures,1);%??????
[high,wide,a]=size(imread(pictures(1).name));%??????????
F=255*ones(high,wide,3);%??????F
for i=1:num1%??????????????????????????pic
    if i<=num2
    pic(:,:,:,i)=imresize(imread(pictures(i).name),[high,wide]);
    else%???????????????????F
    pic(:,:,:,i)=F;
    end
end

%????
if h1~=0
top1=255*ones(h1,wide,3,num1);
right1=255*ones(high+2*h1,h1,3,num1);
pic=cat(1,top1,pic,top1);
pic=cat(2,right1,pic,right1);
end

%????
cut =[c1 c2 c3 c4]; %?????????????
pic=pic(cut(1)+1:end-cut(2),cut(3)+1:end-cut(4),:,:);%????  

%????
P=cell(row,column);
for i=1:num1
    P{i}=pic(:,:,:,i);
end
C=cell2mat(P);

%??????
top2=255*ones(h1,(wide+2*h1-c3-c4)*column,3);
right2=255*ones((high+2*h1-c1-c2)*row+2*h1,h1,3);
C=cat(1,top2,C,top2);
C=cat(2,right2,C,right2);

%????
C=uint8(C);
imwrite(C,[int2str(cputime) '.jpg']);
imshow(C)
